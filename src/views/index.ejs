<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda de Accesorios para Mascotas</title>
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">PetShop</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#inicio">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#productos">Productos</a></li>
                    <li class="nav-item"><a class="nav-link" href="#ofertas">Ofertas</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header id="inicio" class="banner">
        <div class="container text-center">
            <h1>Bienvenido a PetShop</h1>
            <p>Los mejores accesorios para tu mascota</p>
            <a href="#productos" class="btn btn-primary">Ver Catálogo</a>
        </div>
    </header>

    <section id="productos" class="container my-5">
        <h2 class="text-center">Nuestros Productos</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <img src="img/producto1.png" class="card-img-top" alt="Producto 1">
                    <div class="card-body">
                        <h5 class="card-title">Collar para perro</h5>
                        <p class="card-text">$15.99</p>
                        <a href="#" class="btn btn-primary">Comprar</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <img src="img/producto2.png" class="card-img-top" alt="Producto 2">
                    <div class="card-body">
                        <h5 class="card-title">Juguete para gato</h5>
                        <p class="card-text">$9.99</p>
                        <a href="#" class="btn btn-primary">Comprar</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <img src="img/producto3.png" class="card-img-top" alt="Producto 3">
                    <div class="card-body">
                        <h5 class="card-title">Cama para perro</h5>
                        <p class="card-text">$29.99</p>
                        <a href="#" class="btn btn-primary">Comprar</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="catalogo-extra" class="container my-5">
        <h2 class="text-center">Más Productos</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <img src="img/producto4.png" class="card-img-top" alt="Producto 4">
                    <div class="card-body">
                        <h5 class="card-title">Comedero para gato</h5>
                        <p class="card-text">$12.99</p>
                        <a href="#" class="btn btn-primary">Comprar</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                    <img src="img/producto5.png" class="card-img-top" alt="Producto 5">
                    <div class="card-body">
                        <h5 class="card-title">Transportadora para mascotas</h5>
                        <p class="card-text">$49.99</p>
                        <a href="#" class="btn btn-primary">Comprar</a>
                    </div>
                </div>
            </div>
            <div id="mostrarproductos" class ="row">

            </div>
            <div class="col-md-4">
                <div class="card">
                    <img src="img/producto6.png" class="card-img-top" alt="Producto 6">
                    
                    <div class="card-body">
                        <script>
                            async function getProductos() {
                                try {
                                    const response = await fetch('http://localhost:3000/api/get-productos', {
                                        method: 'GET',
                                        headers: {
                                            'Content-Type': 'application/json'
                                        }
                                    });
                                        const productos = await response.json();
                                        const mostrarproductosDiv = document.getElementById('mostrarproductos');
                                        productos.forEach(producto => {
                                            const productoDiv = document.createElement('div');
                                            productoDiv.classList.add('card');
                                            productoDiv.innerHTML = `
                                            
                                            <link rel="stylesheet" href="normalize.css">
                                            <link rel="stylesheet" href="style.css">
                                            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
                                                <img src="data:image/png;base64,${producto.imagen}" class="card-img-top" alt="Producto 6">
                                                <div class="card-body">
                                                    <h5 class="card-title">${producto.nombre}</h5>
                                                    <p class="card-text">$${producto.precio}</p>
                                                    <a href="#" class="btn btn-primary">Comprar</a>
                                                </div>
                                            `;
                                            mostrarproductosDiv.appendChild(productoDiv);
                                        });

                                }catch (error) {
                                    console.error("error al tener imagenes", error);
                                }
                            }

                            getProductos();
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-dark text-white text-center py-3">
        <p>&copy; 2025 PetShop - Todos los derechos reservados</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>